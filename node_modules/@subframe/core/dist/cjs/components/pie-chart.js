"use client";
'use strict';

var _tslib = require('../_virtual/_tslib.js');
var index = require('../external/classnames/index.js');
var React = require('react');
var charts = require('./charts.js');
var pieChart_module = require('./pie-chart.module.css.js');
var Pie = require('../packages/subframe-core/external/recharts/es6/polar/Pie.js');
var Cell = require('../packages/subframe-core/external/recharts/es6/component/Cell.js');
var PieChart$1 = require('../packages/subframe-core/external/recharts/es6/chart/PieChart.js');

var PieChart = React.forwardRef(function PieChart(_a, ref) {
    var _b;
    var className = _a.className, category = _a.category, _c = _a.colors, colors = _c === void 0 ? charts.DEFAULT_COLORS : _c, dark = _a.dark, data = _a.data, index$1 = _a.index, _d = _a.tooltip, tooltip = _d === void 0 ? React.createElement(charts.ChartTooltip, null) : _d, _e = _a.legend, legend = _e === void 0 ? React.createElement(charts.ChartLegend, null) : _e, _f = _a.children, children = _f === void 0 ? (React.createElement(Pie.Pie, { className: index(pieChart_module.pie, (_b = {}, _b[pieChart_module.dark] = dark, _b)), data: data, cx: "50%", cy: "50%", startAngle: 90, endAngle: -270, innerRadius: "75%", isAnimationActive: false, outerRadius: "100%", dataKey: category, nameKey: index$1 }, data.map(function (_, index) {
        return React.createElement(Cell.Cell, { key: index, fill: colors[index % colors.length] });
    }))) : _f, margin = _a.margin, otherProps = _tslib.__rest(_a, ["className", "category", "colors", "dark", "data", "index", "tooltip", "legend", "children", "margin"]);
    return (React.createElement(charts.ChartContextProvider, { categories: data.map(function (obj) { return obj[index$1]; }), colors: colors, dark: dark },
        React.createElement(charts.AutoSizedChartWrapper, _tslib.__assign({ ref: ref, className: className }, otherProps), function (_a) {
            var height = _a.height, width = _a.width;
            return (React.createElement(PieChart$1.PieChart, { data: data, height: height, width: width, margin: margin },
                tooltip,
                legend,
                children));
        })));
});

exports.PieChart = PieChart;
